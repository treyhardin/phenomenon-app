---
import { getCollection } from 'astro:content'
import MasterLayout from '../layouts/layoutMaster.astro'
import LocationChip from '../components/LocationChip.astro'
import LocationList from '../components/LocationList.astro'
import LayoutApp from '../layouts/layoutApp.astro'

const countries = await getCollection('countries')

const states = countries.map((country) => ({
	title: country.data.canonical_name,
	url: `/${country.data.id}`,
	count: country.data.record_count.toLocaleString()
}))
---
<LayoutApp
	title='UAP Database'
>
	<LocationList
		locations={states}
	/>
</LayoutApp>